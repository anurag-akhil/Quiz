<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		
		<script src="dtq_view.js"></script>
		<script src="msq_view.js"></script>
		
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500&display=swap" rel="stylesheet">
		
		<link rel="stylesheet" href="index.css">
		 
		
	</head>
	
	<body>
		<div id="main">
			<div id="header">
				<div id="result">
				
					<div id="not_attempted_count" style="float: left; padding:10px 5px;background-color:orange;color:white;width:60px; height: 35px; border-right:1px solid white;"></div>
					
					<div id="wrong_count" style="float: left; padding:10px 5px;background-color:firebrick;color:white;width:60px; height: 35px; border-right:1px solid white;"></div>

					<div id="correct_count" style="float: left; padding:10px 5px;background-color:lightseagreen;color:white;width:60px; height: 35px; border-right:1px solid white;"></div>
							
				</div>

				<h1 id="title"></h1>
				
				<div id="timer_and_submit">
				
					<div id="timer">00:00:00</div>
					
					<button id="submit" onclick="submit()">SUBMIT</button>
				
				</div>

			</div>
		
			
			<div id="main_container"></div>
			<div id="test_list"></div>
		</div>
		<script src="quiz.js"></script>
		
		<script>
			
			function main_and_timer(){
				main();
				timer();
			}

			function loadJS(file) {
   
				var jsElm = document.createElement("script");
				
				jsElm.type = "application/javascript";
				
				jsElm.src = file;
				
				document.body.appendChild(jsElm);
			}
		
		</script>

		<script src="all_test.js"></script>
		<script id="test_list">
			console.log("Test_data ", Test_data);
			var d = document.getElementById('test_list');
			for(let i of Test_data.Tests)
			{
				console.log("i = ", i);
				let d2 = document.createElement('div');
				let p1 = document.createElement('p');
				let but = document.createElement('button');
				but.setAttribute('id', 'test_list_button');
				p1.innerHTML = i.title;
				but.innerHTML = "Click Here";
				but.addEventListener('click', function()
				{
					console.log("button clicked with adress ", i.adress);
					var h = document.getElementsByTagName('HEAD');
					var script1 = document.createElement('script');
					script1.setAttribute("src", i.adress);
					//script1.setAttribute("async", "");
					h[0].prepend(script1);
					script1.addEventListener('load', function()
					{
						main();
						//timer();
					});
					d.style.display = "none";
				});
				d2.setAttribute('id', "test_list_element");
				d2.append(p1);
				d2.append(but);
				d.append(d2);
			}

		</script>
	
	</body>
</html>